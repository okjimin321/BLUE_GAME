{
    "version": "0.1.0",
    "name": "trading_game",
    "instructions": [
        {
            "name": "recordGame",
            "accounts": [
                { "name": "gameRecord", "isMut": true, "isSigner": false },
                { "name": "player", "isMut": true, "isSigner": true },
                { "name": "systemProgram", "isMut": false, "isSigner": false }
            ],
            "args": [
                { "name": "direction", "type": "string" },
                { "name": "entryPrice", "type": "u64" },
                { "name": "exitPrice", "type": "u64" },
                { "name": "isWin", "type": "bool" },
                { "name": "timestamp", "type": "i64" } 
            ]
        },
        {
            "name": "initializePlayerStats",
            "accounts": [
                { "name": "playerStats", "isMut": true, "isSigner": false },
                { "name": "player", "isMut": true, "isSigner": true },
                { "name": "systemProgram", "isMut": false, "isSigner": false }
            ],
            "args": []
        },
        {
            "name": "updatePlayerStats",
            "accounts": [
                { "name": "playerStats", "isMut": true, "isSigner": false },
                { "name": "player", "isMut": false, "isSigner": true }
            ],
            "args": [
                { "name": "isWin", "type": "bool" }
            ]
        }
    ],
    "accounts": [
        {
            "name": "GameRecord",
            "type": {
                "kind": "struct",
                "fields": [
                    { "name": "player", "type": "publicKey" },
                    { "name": "direction", "type": "string" },
                    { "name": "entryPrice", "type": "u64" },
                    { "name": "exitPrice", "type": "u64" },
                    { "name": "isWin", "type": "bool" },
                    { "name": "timestamp", "type": "i64" }
                ]
            }
        },
        {
            "name": "PlayerStats",
            "type": {
                "kind": "struct",
                "fields": [
                    { "name": "player", "type": "publicKey" },
                    { "name": "totalGames", "type": "u64" },
                    { "name": "wins", "type": "u64" },
                    { "name": "losses", "type": "u64" }
                ]
            }
        }
    ]
}